<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<style>
</style>
<meta charset="UTF-8">
<title>여기에 페이지 이름 입력</title>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
<link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
<link rel="stylesheet"
	href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
<link rel="stylesheet" href="dist/css/adminlte.min.css">
</head>
<body>
	<jsp:include page="GroupFit_gnb.jsp" />
	<div class="content-wrapper" style="margin-top: 57.08px">
		<section class="content-header">
			<div class="container-fluid">
				<div class="row mb-2">
					<div class="col-sm-6">
						<h1>출퇴근 내역</h1>
					</div>
					<div class="col-sm-6">
						<ol class="breadcrumb float-sm-right">
							<li class="breadcrumb-item"><a href="#">메인</a></li>
							<li class="breadcrumb-item active">뎁스1</li>
							<li class="breadcrumb-item active">뎁스2</li>
						</ol>
					</div>
				</div>
			</div>
			<!-- /.container-fluid -->
			</section>
<!-- Main content -->
		<section class="content">
			<div class="container-fluid">
			
				<h2>7월</h2>
			  	
				<div id="header" style="display : flex;">
					<div style="width: 100px; height: 30px; border: 1px solid white; text-align: center">직원이름</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">1</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">2</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">3</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">4</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">5</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">6</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">7</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">8</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">9</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">10</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">11</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">12</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">13</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">14</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">15</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">16</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">17</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">18</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">19</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">20</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">21</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">22</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">23</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">24</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">25</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">26</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">27</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">28</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">29</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">30</div>
					<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">31</div>
				</div>
				
				<div id="first_row" style="display : flex;">
					
				</div>
				
				<br/>
				
				<div id="second_row" style="display : flex;">
					
				</div>
				
				<br/>
				
				<div id="third_row" style="display : flex;">
					
				</div>
				
				<br/>
				
				<div id="fourth_row" style="display : flex;">
					
				</div>
				
				<div id="fifth_row" style="display : flex;">
					
				</div>
				
				<div id="sixth_row" style="display : flex;">
					
				</div>
				
				<div id="seventh_row" style="display : flex;">
					
				</div>
			</div>
			<!--/. container-fluid -->
		</section>
	</div>
</body>
<script>
commutelist();

var count = 0;

function commutelist(){
	
	$.ajax({
		type:'get',
		url:'commutelist.ajax',
		data:{
		},
		dataType:'json',
		success:function(data){
			
			count = data.i;
			
			for (var i = 1; i <= count; i++) {
				console.log(data['w_type' + i], data['name' + i]);
				commutelistDraw(data['w_type' + i], data['name' + i], i);
			}
		},
		error:function(e){
			console.log(e);
		}
	});	
}
function commutelistDraw(w_type, name, i){

	var n_content = '<div style="width: 100px; height: 30px; border: 1px solid white; text-align: center">' + name + '</div>';
	
	var ele = '';
	
	if(i == 1){
		
		ele = '#first_row';
		console.log(ele);
	}
	
	if(i == 1){
		
		$('#first_row').append(n_content);
		
		var w_content = '';
		var e_content = '';
		
		w_type.forEach(function(item,index){
			
			var status = '';
			
			if(item == '출근'){
				
				status = 'O';
			}
			
			else if(item == '지각'){
				
				status = '△';
			}
			
			else{
				
				status = 'X';
			}
			
			if(index == 0 || index == 6 || index == 12){
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			}
			
			else{
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
			}
			
		});
		

		$('#first_row').append(w_content);
		
		var deEle = document.getElementById('first_row');
		var deEleCount = deEle.childElementCount;
		
		console.log(deEleCount);
		
		var HeaderEle = document.getElementById('header');
		var HeaderEleCount = HeaderEle.childElementCount;
		
		console.log(HeaderEleCount);
		
		console.log(HeaderEleCount - deEleCount);
		
		for (var i = 1; i <= HeaderEleCount - deEleCount; i++) {
			  var e_content = '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			  $('#first_row').append(e_content);
		}
		
	}
	
	if(i == 1){
		
		$('#first_row').append(n_content);
		
		var w_content = '';
		var e_content = '';
		
		w_type.forEach(function(item,index){
			
			var status = '';
			
			if(item == '출근'){
				
				status = 'O';
			}
			
			else if(item == '지각'){
				
				status = '△';
			}
			
			else{
				
				status = 'X';
			}
			
			if(index == 0 || index == 6 || index == 12){
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			}
			
			else{
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
			}
			
		});
		

		$('#first_row').append(w_content);
		
		var deEle = document.getElementById('first_row');
		var deEleCount = deEle.childElementCount;
		
		console.log(deEleCount);
		
		var HeaderEle = document.getElementById('header');
		var HeaderEleCount = HeaderEle.childElementCount;
		
		console.log(HeaderEleCount);
		
		console.log(HeaderEleCount - deEleCount);
		
		for (var i = 1; i <= HeaderEleCount - deEleCount; i++) {
			  var e_content = '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			  $('#first_row').append(e_content);
		}
		
	}
	
	if(i == 2){
		
		$('#second_row').append(n_content);
		
		var w_content = '';
		var e_content = '';
		
		w_type.forEach(function(item,index){
			
			var status = '';
			
			if(item == '출근'){
				
				status = 'O';
			}
			
			else if(item == '지각'){
				
				status = '△';
			}
			
			else{
				
				status = 'X';
			}
			
			if(index == 0 || index == 6 || index == 12){
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			}
			
			else{
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
			}
			
		});
		
	
		$('#second_row').append(w_content);
		
		var deEle = document.getElementById('second_row');
		var deEleCount = deEle.childElementCount;
		
		console.log(deEleCount);
		
		var HeaderEle = document.getElementById('header');
		var HeaderEleCount = HeaderEle.childElementCount;
		
		console.log(HeaderEleCount);
		
		console.log(HeaderEleCount - deEleCount);
		
		for (var i = 1; i <= HeaderEleCount - deEleCount; i++) {
			  var e_content = '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			  $('#second_row').append(e_content);
		}
		
	}
	
	if(i == 3){
			
			$('#third_row').append(n_content);
			
			var w_content = '';
			var e_content = '';
			
			w_type.forEach(function(item,index){
				
				var status = '';
				
				if(item == '출근'){
					
					status = 'O';
				}
				
				else if(item == '지각'){
					
					status = '△';
				}
				
				else{
					
					status = 'X';
				}
				
				if(index == 0 || index == 6 || index == 12){
					
					w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
					w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
				}
				
				else{
					
					w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
				}
				
			});
			
	
			$('#third_row').append(w_content);
			
			var deEle = document.getElementById('third_row');
			var deEleCount = deEle.childElementCount;
			
			console.log(deEleCount);
			
			var HeaderEle = document.getElementById('header');
			var HeaderEleCount = HeaderEle.childElementCount;
			
			console.log(HeaderEleCount);
			
			console.log(HeaderEleCount - deEleCount);
			
			for (var i = 1; i <= HeaderEleCount - deEleCount; i++) {
				  var e_content = '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
				  $('#third_row').append(e_content);
			}
			
		}
		
	if(i == 4){
		
		$('#fourth_row').append(n_content);
		
		var w_content = '';
		var e_content = '';
		
		w_type.forEach(function(item,index){
			
			var status = '';
			
			if(item == '출근'){
				
				status = 'O';
			}
			
			else if(item == '지각'){
				
				status = '△';
			}
			
			else{
				
				status = 'X';
			}
			
			if(index == 0 || index == 6 || index == 12){
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			}
			
			else{
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
			}
			
		});
		
	
		$('#fourth_row').append(w_content);
		
		var deEle = document.getElementById('fourth_row');
		var deEleCount = deEle.childElementCount;
		
		console.log(deEleCount);
		
		var HeaderEle = document.getElementById('header');
		var HeaderEleCount = HeaderEle.childElementCount;
		
		console.log(HeaderEleCount);
		
		console.log(HeaderEleCount - deEleCount);
		
		for (var i = 1; i <= HeaderEleCount - deEleCount; i++) {
			  var e_content = '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			  $('#fourth_row').append(e_content);
		}
		
	}
	
	if(i == 5){
		
		$('#fifth_row').append(n_content);
		
		var w_content = '';
		var e_content = '';
		
		w_type.forEach(function(item,index){
			
			var status = '';
			
			if(item == '출근'){
				
				status = 'O';
			}
			
			else if(item == '지각'){
				
				status = '△';
			}
			
			else{
				
				status = 'X';
			}
			
			if(index == 0 || index == 6 || index == 12){
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			}
			
			else{
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
			}
			
		});
		
	
		$('#fifth_row').append(w_content);
		
		var deEle = document.getElementById('fifth_row');
		var deEleCount = deEle.childElementCount;
		
		console.log(deEleCount);
		
		var HeaderEle = document.getElementById('header');
		var HeaderEleCount = HeaderEle.childElementCount;
		
		console.log(HeaderEleCount);
		
		console.log(HeaderEleCount - deEleCount);
		
		for (var i = 1; i <= HeaderEleCount - deEleCount; i++) {
			  var e_content = '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			  $('#fifth_row').append(e_content);
		}
		
	}
	
	if(i == 6){
		
		$('#sixth_row').append(n_content);
		
		var w_content = '';
		var e_content = '';
		
		w_type.forEach(function(item,index){
			
			var status = '';
			
			if(item == '출근'){
				
				status = 'O';
			}
			
			else if(item == '지각'){
				
				status = '△';
			}
			
			else{
				
				status = 'X';
			}
			
			if(index == 0 || index == 6 || index == 12){
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			}
			
			else{
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
			}
			
		});
		
	
		$('#sixth_row').append(w_content);
		
		var deEle = document.getElementById('sixth_row');
		var deEleCount = deEle.childElementCount;
		
		console.log(deEleCount);
		
		var HeaderEle = document.getElementById('header');
		var HeaderEleCount = HeaderEle.childElementCount;
		
		console.log(HeaderEleCount);
		
		console.log(HeaderEleCount - deEleCount);
		
		for (var i = 1; i <= HeaderEleCount - deEleCount; i++) {
			  var e_content = '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			  $('#sixth_row').append(e_content);
		}
		
	}
	
	if(i == 7){
		
		$('#seventh_row').append(n_content);
		
		var w_content = '';
		var e_content = '';
		
		w_type.forEach(function(item,index){
			
			var status = '';
			
			if(item == '출근'){
				
				status = 'O';
			}
			
			else if(item == '지각'){
				
				status = '△';
			}
			
			else{
				
				status = 'X';
			}
			
			if(index == 0 || index == 6 || index == 12){
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			}
			
			else{
				
				w_content += '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center">' + status + '</div>';
			}
			
		});
		
	
		$('#seventh_row').append(w_content);
		
		var deEle = document.getElementById('seventh_row');
		var deEleCount = deEle.childElementCount;
		
		console.log(deEleCount);
		
		var HeaderEle = document.getElementById('header');
		var HeaderEleCount = HeaderEle.childElementCount;
		
		console.log(HeaderEleCount);
		
		console.log(HeaderEleCount - deEleCount);
		
		for (var i = 1; i <= HeaderEleCount - deEleCount; i++) {
			  var e_content = '<div style="width: 30px; height: 30px; border: 1px solid white; text-align: center"></div>';
			  $('#seventh_row').append(e_content);
		}
		
	}
	
}
</script>
</html>